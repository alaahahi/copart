import{y as zt,r as p,u as jt,a as n,g as r,j as a,w as v,F as T,o as i,H as Ht,k as b,b as t,t as l,i as _,e as _t,z as Lt,h as X,l as W,f as et,s as Wt,n as Ot}from"./app.96e19b64.js";import{_ as Gt}from"./AuthenticatedLayout.db5d31b4.js";import{M as Jt}from"./Modal.b72581f3.js";import{t as Kt}from"./laravel-vue-pagination.es.78322a03.js";import{_ as h}from"./InputLabel.e1219e41.js";import{_ as C}from"./TextInput.5e0f7434.js";import{a as k}from"./index.5ea74085.js";import{M as st}from"./ModalDelCar.36f831db.js";import{_ as Qt}from"./ModalEditCar_S.093c2c44.js";import{_ as Xt}from"./ModalAddCarPayment.cfb997a6.js";import{_ as Yt,a as Zt,b as te,c as ee}from"./ModalShowExitCar.82358be2.js";import{p as ht}from"./print.f414cc7a.js";import{p as se}from"./pay.f42b622e.js";import{t as oe}from"./trash.e6359063.js";import{e as ae}from"./edit.4cc806a8.js";import{s as re}from"./show.9b79d5e6.js";/* empty css                                              *//* empty css                                                    */import"./Uploader.734b45c5.js";/* empty css                                                                 *//* empty css                                                       */const le=t("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1),de=t("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),ne={class:"mb-5 dark:text-gray-400 text-center"},ie={class:"mb-5 dark:text-gray-400 text-center"},ce={key:0},ue={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},pe={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},me={key:1,class:"py-4"},_e={class:"text-center pb-2 dark:text-gray-400"},he={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},be={class:"overflow-hidden shadow-sm sm:rounded-lg"},ye={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},xe={class:"pr-4"},fe={value:"undefined",disabled:""},ge=["value"],ve={className:"mb-4  mr-5"},ke={class:"flex items-center ps-4 rounded-lg border border-gray-300 text-gray-900 mt-1"},we=["value","checked"],$e={for:"bordered-checkbox-1",class:"w-full pt-3 py-2 mx-4 text-sm font-medium text-gray-900 dark:text-gray-300"},Ce={class:"px-4"},Ne={className:"mb-4 mx-5"},Ae={class:"px-4"},De={className:"mb-4 mx-5"},Pe={className:"mb-4  mr-5 print:hidden"},Me=t("span",null,"\u0641\u0644\u062A\u0631\u0629",-1),Ie=[Me],Se={className:"mb-4  mr-5 print:hidden"},Fe=["href"],Ee=t("span",null,"\u0637\u0628\u0627\u0639\u0629",-1),Te=[Ee],Be={className:"mb-4  mr-5 print:hidden"},Ue=["href"],Ve=t("span",null,"Excel",-1),Re=[Ve],qe={className:"mb-4  mr-5"},ze={className:"mb-4  mr-5"},je={className:"mb-4  mr-5"},He={className:"mb-4  mr-5"},Le={className:"mb-4  mr-5"},We={className:"mb-4  mr-5 print:hidden"},Oe=["disabled"],Ge=t("span",null,"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1),Je=[Ge],Ke=["disabled"],Qe=t("span",null,"\u0627\u062E\u0641\u0627\u0621 \u062F\u0641\u0639\u0629",-1),Xe=[Qe],Ye={className:"mb-4  mr-5 print:hidden"},Ze=["disabled"],ts=t("span",null,"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),es=[ts],ss=t("span",null,"\u0627\u062E\u0641\u0627\u0621 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),os=[ss],as={key:0,className:"mb-4  mr-5"},rs={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"};const ls={className:"mb-4  mr-5"},ds={className:"mb-4  mr-5"},ns={className:"mb-4  mr-5 print:hidden"},is=["disabled"],cs={key:0},us={key:1},ps={key:2},ms={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},_s={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},hs={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},bs={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},ys=t("th",{className:"px-1 py-2 text-base"},"#",-1),xs={className:"px-1 py-2 text-base"},fs={className:"px-1 py-2 text-base"},gs={className:"px-1 py-2 text-base"},vs={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},ks={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ws=t("td",null,null,-1),$s=t("td",null,null,-1),Cs=t("td",null,null,-1),Ns=t("td",null,null,-1),As={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ds=["href"],Ps={key:0,class:"text-center"},Ms={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Is={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ss={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Fs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Es={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ts=["href"],Bs={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Us=t("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A",-1),Vs=t("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),Rs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},qs={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},zs={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},js={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Hs={class:"rounded-l-lg mb-2 sm:mb-0"},Ls={scope:"col",class:"px-1 py-2 text-base"},Ws={scope:"col",class:"px-1 py-2 text-base"},Os={scope:"col",class:"px-1 py-2 text-base"},Gs={scope:"col",class:"px-1 py-2 text-base"},Js={scope:"col",class:"px-1 py-2 text-base"},Ks={scope:"col",class:"px-1 py-2 text-base"},Qs={scope:"col",class:"px-1 py-2 text-base print:hidden"},Xs=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0633\u0639\u0631 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0627\u0645\u0631\u064A\u0643\u0627 ",-1),Ys=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0646\u0642\u0644 \u062F\u0628\u064A ",-1),Zs=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0643\u0631\u064A\u0646 ",-1),to=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0645\u0635\u0627\u0631\u064A\u0641 \u062F\u0628\u064A ",-1),eo=t("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0634\u062D\u0646 \u0627\u0631\u0628\u064A\u0644 ",-1),so=t("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0645\u0635\u0627\u0631\u064A\u0641 \u0627\u0631\u0628\u064A\u0644 ",-1),oo={scope:"col",class:"px-1 py-2 text-base"},ao={scope:"col",class:"px-1 py-2 text-base"},ro=t("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0627\u0644\u0645\u062A\u0628\u0642\u064A ",-1),lo={scope:"col",class:"px-1 py-2 text-base"},no={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},io=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ",-1),co=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"120px"}}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1),uo={className:"border dark:border-gray-800 text-center px-2 py-1"},po={className:"border dark:border-gray-800 text-center px-2 py-1"},mo={className:"border dark:border-gray-800 text-center px-2 py-1"},_o={className:"border dark:border-gray-800 text-center px-2 py-1"},ho={className:"border dark:border-gray-800 text-center px-2 py-1"},bo={className:"border dark:border-gray-800 text-center px-2 py-1"},yo={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},xo={className:"border dark:border-gray-800 text-center px-2 py-1"},fo={className:"border dark:border-gray-800 text-center px-2 py-1"},go={className:"border dark:border-gray-800 text-center px-2 py-1"},vo={className:"border dark:border-gray-800 text-center px-2 py-1"},ko={className:"border dark:border-gray-800 text-center px-2 py-1"},wo={className:"border dark:border-gray-800 text-center px-2 py-1"},$o={className:"border dark:border-gray-800 text-center px-2 py-1"},Co={className:"border dark:border-gray-800 text-center px-2 py-1"},No={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ao={className:"border dark:border-gray-800 text-center px-2 py-1"},Do={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Po=["onClick"],Mo=["onClick"],Io=["onClick"],So=["onClick"],Fo={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Eo=["href"],To=["src"],Bo={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Uo=["onClick"],Vo=["onClick"],Ro={class:"mt-3 text-center",style:{direction:"ltr"}},qo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},zo={class:"flex flex-row"},jo={class:"basis-1/2"},Ho=t("br",null,null,-1),Lo=t("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1),Wo=t("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1),_a={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object,q:String},setup(O){const Y=O;let f=zt();p(0);let c=p({}),A=p(0),w=p(0),$=p(0),I=p(!1),B=p(!1),U=p(!1),S=p(!1),bt=p(!1),V=p(!1),y=p(!1),R=p(!1),q=p(!1),z=p(!1),G=p(!1);p(0);let d=p({}),Z=p(0),j=p(""),F=p(0),g=p(0),H=p(!1),L=p(!1),K=async(o=1)=>{k.get(`/api/getIndexAccountsSelas?page=${o}&user_id=${Y.client_id}&from=${w.value}&to=${$.value}`).then(s=>{c.value=s.data,g.value=s.data.client.id}).catch(s=>{console.error(s)})};function D(){if(c.value)return{totalAmount:c.value.transactions.filter(u=>u.type==="out"&&u.amount<0&&u.is_pay===1).reduce((u,m)=>u+m.amount,0)}}const P=async(o=1)=>{k.get(`/api/getIndexAccountsSelas?page=${o}&user_id=${g.value}&from=${w.value}&to=${$.value}`).then(s=>{c.value=s.data,g.value=s.data.client.id}).catch(s=>{console.error(s)})};K();const yt=jt();let N=p(!1);function xt(o){yt.get(route("sentToCourt",o)),K(),N.value=!1}function ft(o={}){d.value=o,U.value=!0}function gt(o={}){d.value=o,H.value=!0}function vt(o={}){d.value=o,L.value=!0}function kt(o={}){d.value=o,d.value.shipping_dolar_s==0&&(d.value.shipping_dolar_s=d.value.shipping_dolar),d.value.coc_dolar_s==0&&(d.value.coc_dolar_s=d.value.coc_dolar),d.value.checkout_s==0&&(d.value.checkout_s=d.value.checkout),d.value.expenses_s==0&&(d.value.expenses_s=d.value.expenses),B.value=!0}function wt(o={}){d.value=o,d.value.notePayment=" \u0628\u064A\u062F ",S.value=!0}function $t(o){k.post("/api/DelCar",o).then(s=>{U.value=!1,window.location.reload()}).catch(s=>{console.error(s)})}function Ct(o){var s;o.balance=D().totalAmount*-1-((s=c.value)==null?void 0:s.cars_paid),k.post("/api/AddPayFromBalanceCar",o).then(u=>{H.value=!1,window.location.reload()}).catch(u=>{console.error(u)})}function Nt(o){k.post("/api/DelPayFromBalanceCar",o).then(s=>{L.value=!1,window.location.reload()}).catch(s=>{console.error(s)})}function At(o){B.value=!1,k.post("/api/updateCarsS",o).then(s=>{N.value=!1,f.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),P()}).catch(s=>{f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),P()})}function Dt(o){var s,u;o.discountPayment||(o.discountPayment=0),k.get(`/api/addPaymentCar?car_id=${o.id}&discount=${o.discountPayment}&amount=${(s=o.amountPayment)!=null?s:0}&note=${(u=o.notePayment)!=null?u:""}`).then(m=>{S.value=!1,f.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+o.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),P();let x=m.data;window.open(`/api/getIndexAccountsSelas?user_id=${Y.client_id}&print=2&transactions_id=${x.id}`,"_blank")}).catch(m=>{N.value=!1,console.log(m),f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Pt(o,s,u,m){A.value=!0,k.get(`/api/addPaymentCarTotal?amount=${o!=null?o:0}&discount=${u!=null?u:0}&note=${m}&client_id=${s!=null?s:0}`).then(x=>{S.value=!1,f.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+o+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),I.value=!1,A.value=!1,P(),Mt();let E=x.data;window.open(`/api/getIndexAccountsSelas?user_id=${Y.client_id}&print=2&transactions_id=${E.id}`,"_blank")}).catch(x=>{console.log(x),N.value=!1,A.value=!1,f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Mt(){F.value=0,Z.value=0,j.value=""}function It(){I.value=!0,V.value=!1}function St(){I.value=!1}function Ft(){V.value=!0,I.value=!1}function Et(){V.value=!1}function Tt(o={}){d.value=o,G.value=!0}function Oo(){var s,u,m;let o=(m=(u=(s=c==null?void 0:c.value)==null?void 0:s.client)==null?void 0:u.wallet)==null?void 0:m.balance;F.value=o-Z.value}function Bt(o){var s,u,m,x,E,J;k.get(`/api/addCarContracts?car_id=${o.id}&price=${(s=o.prices)!=null?s:0}&price_dinar=${(u=o.price_dinars)!=null?u:0}&paid=${(m=o.paids)!=null?m:0}&paid_dinar=${(x=o.paid_dinars)!=null?x:0}&phone=${(E=o.phone)!=null?E:""}&note=${(J=o.note)!=null?J:""}`).then(Q=>{R.value=!1,f.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),P()}).catch(Q=>{R.value=!1,f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Ut(o){var s,u,m;k.get(`/api/editCarContracts?car_id=${o.id}&paid=${(s=o.paids)!=null?s:0}&paid_dinar=${(u=o.paid_dinars)!=null?u:0}&note=${(m=o.notePayment)!=null?m:""}`).then(x=>{q.value=!1,f.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+o.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),P()}).catch(x=>{q.value=!1,f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ot(o){k.get(`/api/makeCarExit?car_id=${o.id}&created=${o.createdExit}&phone=${o.phoneExit}&note=${o.noteExit}`).then(s=>{z.value=!1,f.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u062E\u0631\u0648\u062C\u064A\u0629 \u0644\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0}),P()}).catch(s=>{z.value=!1,f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Vt(o){return`/public/uploadsResized/${o}`}function Rt(o){return`/public/uploads/${o}`}return(o,s)=>(i(),n(T,null,[r(a(Ht),{title:"Dashboard"}),r(Gt,null,{header:v(()=>[le]),default:v(()=>{var u,m,x,E,J,Q,at,rt,lt,dt,nt,it,ct;return[r(Yt,{formData:a(d),show:!!a(R),onA:s[0]||(s[0]=e=>Bt(e)),onClose:s[1]||(s[1]=e=>b(R)?R.value=!1:R=!1)},{header:v(()=>[]),_:1},8,["formData","show"]),r(Zt,{formData:a(d),show:!!a(q),onA:s[2]||(s[2]=e=>Ut(e)),onClose:s[3]||(s[3]=e=>b(q)?q.value=!1:q=!1)},{header:v(()=>[]),_:1},8,["formData","show"]),r(te,{formData:a(d),show:!!a(z),onA:s[4]||(s[4]=e=>ot(e)),onClose:s[5]||(s[5]=e=>b(z)?z.value=!1:z=!1)},{header:v(()=>[]),_:1},8,["formData","show"]),r(ee,{formData:a(d),show:!!a(G),onA:s[6]||(s[6]=e=>ot(e)),onClose:s[7]||(s[7]=e=>b(G)?G.value=!1:G=!1)},{header:v(()=>[]),_:1},8,["formData","show"]),r(Qt,{formData:a(d),show:!!a(B),client:O.clients,onA:s[8]||(s[8]=e=>At(e)),onClose:s[9]||(s[9]=e=>b(B)?B.value=!1:B=!1)},{header:v(()=>[]),_:1},8,["formData","show","client"]),r(Xt,{formData:a(d),show:!!a(S),onA:s[10]||(s[10]=e=>Dt(e)),onClose:s[11]||(s[11]=e=>b(S)?S.value=!1:S=!1)},{header:v(()=>[]),_:1},8,["formData","show"]),r(st,{show:!!a(U),formData:a(d),onA:s[12]||(s[12]=e=>$t(e)),onClose:s[13]||(s[13]=e=>b(U)?U.value=!1:U=!1)},{header:v(()=>[de]),_:1},8,["show","formData"]),r(st,{show:!!a(H),formData:a(d),onA:s[14]||(s[14]=e=>Ct(e)),onClose:s[15]||(s[15]=e=>b(H)?H.value=!1:H=!1)},{header:v(()=>[t("h2",ne," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062F\u0641\u0639 "+l(a(d).car_type)+" \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",1)]),_:1},8,["show","formData"]),r(st,{show:!!a(L),formData:a(d),onA:s[16]||(s[16]=e=>Nt(e)),onClose:s[17]||(s[17]=e=>b(L)?L.value=!1:L=!1)},{header:v(()=>[t("h2",ie," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+l(a(d).car_type)+" \u0644\u0644\u0631\u0635\u064A\u062F \u061F ",1)]),_:1},8,["show","formData"]),r(Jt,{show:!!a(N),data:a(N).toString(),onA:s[18]||(s[18]=e=>xt(e,o.arg1)),onClose:s[19]||(s[19]=e=>b(N)?N.value=!1:N=!1)},null,8,["show","data"]),o.$page.props.success?(i(),n("div",ce,[t("div",ue,[t("div",pe,l(o.$page.props.success),1)])])):_("",!0),o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==6?(i(),n("div",me,[t("h2",_e,l(o.$t("sales_bill")),1),t("div",he,[t("div",be,[t("div",ye,[t("div",xe,[r(h,{class:"mb-1",for:"invoice_number",value:o.$t("Account")},null,8,["value"]),_t(t("select",{onChange:s[20]||(s[20]=e=>P()),"onUpdate:modelValue":s[21]||(s[21]=e=>b(g)?g.value=e:g=e),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[t("option",fe,l(o.$t("selectCustomer")),1),(i(!0),n(T,null,X(O.clients,(e,tt)=>(i(),n(T,{key:tt},[e.wallet.balance>0||e.id==a(g)?(i(),n("option",{key:0,value:e.id},l(e.name),9,ge)):_("",!0)],64))),128))],544),[[Lt,a(g)]])]),t("div",null,[t("div",ve,[r(h,{for:"totalAmount",value:"\u0641\u0644\u062A\u0631\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629"}),t("div",ke,[t("input",{id:"bordered-checkbox-1",type:"checkbox",onChange:s[22]||(s[22]=e=>a(y)==!0?b(y)?y.value=!1:y=!1:b(y)?y.value=!0:y=!0),value:a(y),checked:!a(y),name:"bordered-checkbox",class:"w-4 h-4 mx-2 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,we),t("label",$e,l(a(y)==!1?" \u062A\u0645 \u0627\u0644\u0641\u0644\u062A\u0631":"\u062A\u0645 \u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"),1)])])]),t("div",Ce,[t("div",Ne,[r(h,{for:"from",value:o.$t("from_date")},null,8,["value"]),r(C,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:a(w),"onUpdate:modelValue":s[23]||(s[23]=e=>b(w)?w.value=e:w=e)},null,8,["modelValue"])])]),t("div",Ae,[t("div",De,[r(h,{for:"to",value:o.$t("to_date")},null,8,["value"]),r(C,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:a($),"onUpdate:modelValue":s[24]||(s[24]=e=>b($)?$.value=e:$=e)},null,8,["modelValue"])])]),t("div",Pe,[r(h,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),t("button",{onClick:s[25]||(s[25]=W(e=>a(K)(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},Ie)]),t("div",Se,[r(h,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),t("a",{href:`/api/getIndexAccountsSelas?user_id=${a(g)}&from=${a(w)}&to=${a($)}&print=1&showComplatedCars=${a(y)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center",style:{width:"100%"}},Te,8,Fe)]),t("div",Be,[r(h,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),t("a",{href:`/api/getIndexAccountsSelas?user_id=${a(g)}&from=${a(w)}&to=${a($)}&print=1&printExcel=1&showComplatedCars=${a(y)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center",style:{width:"100%"}},Re,8,Ue)]),t("div",qe,[r(h,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),r(C,{id:"car_total",type:"text",class:"mt-1 block w-full",value:a(c).car_total,disabled:""},null,8,["value"])]),t("div",ze,[r(h,{for:"cars_sum",value:o.$t("Total_in_dollars")},null,8,["value"]),r(C,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(u=a(c))==null?void 0:u.cars_sum,disabled:""},null,8,["value"])]),t("div",je,[r(h,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r(C,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:parseFloat((m=a(c))==null?void 0:m.cars_sum)-(parseFloat((J=(E=(x=a(c))==null?void 0:x.client)==null?void 0:E.wallet)==null?void 0:J.balance)+parseFloat((Q=a(c))==null?void 0:Q.cars_discount)),disabled:""},null,8,["value"])]),t("div",He,[r(h,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r(C,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:(at=a(c))==null?void 0:at.cars_discount,disabled:""},null,8,["value"])]),t("div",Le,[r(h,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r(C,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:D().totalAmount*-1-((rt=a(c))==null?void 0:rt.cars_sum)},null,8,["value"])]),t("div",We,[r(h,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629"}),a(I)?_("",!0):(i(),n("button",{key:0,onClick:s[26]||(s[26]=W(e=>It(),["prevent"])),disabled:a(A),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},Je,8,Oe)),a(I)?(i(),n("button",{key:1,onClick:s[27]||(s[27]=W(e=>St(),["prevent"])),disabled:a(A),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},Xe,8,Ke)):_("",!0)]),t("div",Ye,[r(h,{for:"pay",value:"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"}),a(V)?_("",!0):(i(),n("button",{key:0,onClick:s[28]||(s[28]=W(e=>Ft(),["prevent"])),disabled:a(A),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-purple-500 rounded",style:{width:"100%"}},es,8,Ze)),a(V)?(i(),n("button",{key:1,onClick:s[29]||(s[29]=W(e=>Et(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},os)):_("",!0)]),D().totalAmount*-1-((lt=a(c))==null?void 0:lt.cars_paid)!=0?(i(),n("div",as,[r(h,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0645\u0648\u0632\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r(C,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:D().totalAmount*-1-((dt=a(c))==null?void 0:dt.cars_paid)},null,8,["value"])])):_("",!0)]),a(I)?(i(),n("div",rs,[_("",!0),t("div",ls,[r(h,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),r(C,{id:"percentage",type:"number",class:"mt-1 block w-full",modelValue:a(F),"onUpdate:modelValue":s[31]||(s[31]=e=>b(F)?F.value=e:F=e)},null,8,["modelValue"])]),t("div",ds,[r(h,{for:"discount",value:"\u0645\u0644\u0627\u062D\u0638\u0629"}),r(C,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:a(j),"onUpdate:modelValue":s[32]||(s[32]=e=>b(j)?j.value=e:j=e)},null,8,["modelValue"])]),t("div",ns,[r(h,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),t("button",{onClick:s[33]||(s[33]=W(e=>Pt(a(F),a(g),a(Z),a(j)),["prevent"])),disabled:a(A),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[a(bt)?(i(),n("span",cs,"\u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0644")):_("",!0),a(A)?(i(),n("span",ps,"\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...")):(i(),n("span",us,"\u062F\u0641\u0639"))],8,is)])])):_("",!0),a(V)?(i(),n("div",ms,[t("table",_s,[t("thead",hs,[t("tr",bs,[ys,t("th",xs,l(o.$t("date")),1),t("th",fs,l(o.$t("description")),1),t("th",gs,l(o.$t("amount")),1),t("th",vs,l(o.$t("execute")),1)])]),t("tbody",null,[t("tr",ks,[ws,$s,Cs,Ns,t("td",As,[t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a(c).client.id}&from=${a(w)}&to=${a($)}&print=4`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[et(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A "),r(ht)],8,Ds)])]),(i(!0),n(T,null,X(a(c).transactions,e=>(i(),n(T,{key:e.id},[e.type=="out"&&e.amount<0&&e.is_pay==1?(i(),n("tr",Ps,[t("td",Ms,l(e.id),1),t("td",Is,l(e.created),1),t("td",Ss,l(e.description),1),t("td",Fs,l(e.amount*-1),1),t("td",Es,[e.type=="out"&&e.amount<0?(i(),n("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a(c).client.id}&from=${a(w)}&to=${a($)}&print=2&transactions_id=${e.id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[r(ht)],8,Ts)):_("",!0)])])):_("",!0)],64))),128)),t("tr",Bs,[Us,t("td",null,l((nt=a(c))==null?void 0:nt.cars_discount),1),Vs,t("td",Rs,l(D().totalAmount*-1),1),t("td",null,"\u0627\u0644\u0646\u062A\u0627\u062A\u062C : "+l(D().totalAmount*-1-parseInt((it=a(c))==null?void 0:it.cars_discount)),1)])])])])):_("",!0),t("div",null,[t("div",qs,[t("table",zs,[t("thead",js,[t("tr",Hs,[t("th",Ls,l(o.$t("no")),1),t("th",Ws,l(o.$t("car_type")),1),t("th",Os,l(o.$t("year")),1),t("th",Gs,l(o.$t("color")),1),t("th",Js,l(o.$t("vin")),1),t("th",Ks,l(o.$t("car_number"))+" copart ",1),t("th",Qs,l(o.$t("note")),1),Xs,Ys,Zs,to,eo,so,t("th",oo,l(o.$t("total")),1),t("th",ao,l(o.$t("paid")),1),ro,t("th",lo,l(o.$t("date")),1),t("th",no,l(o.$t("execute")),1),io,co])]),t("tbody",null,[(i(!0),n(T,null,X(a(c).data,(e,tt)=>{var ut,pt,mt;return _t((i(),n("tr",{key:e.id,class:Ot([{"bg-red-100 dark:bg-red-900":e.results==0,"bg-red-100 dark:bg-red-900":e.results==1,"bg-green-100 dark:bg-green-900":e.results==2,"bg-yellow-100 dark:bg-yellow-900":e.vin.startsWith(O.q)||(e.car_number?e.car_number.toString().startsWith(O.q):"")},"border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[t("td",uo,l(tt+1),1),t("td",po,l(e.car_type),1),t("td",mo,l(e.year),1),t("td",_o,l(e.car_color),1),t("td",ho,l(e.vin),1),t("td",bo,l(e.car_number),1),t("td",yo,l(e.note),1),t("td",xo,l(e.shipping_dolar_s),1),t("td",fo,l(e.dinar_s),1),t("td",go,l(e.coc_dolar_s),1),t("td",vo,l(e.checkout_s),1),t("td",ko,l(e.expenses_s),1),t("td",wo,l((ut=e.commission_s)!=null?ut:0),1),t("td",$o,l(e.total_s.toFixed(0)),1),t("td",Co,l(e.paid),1),t("td",No,l(e.total_s.toFixed(0)-e.paid),1),t("td",Ao,l(e.date),1),t("td",Do,[t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:M=>kt(e)},[r(ae)],8,Po),t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:M=>ft(e)},[r(oe)],8,Mo),e.total_s!=e.paid+e.discount?(i(),n("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:M=>wt(e)},[r(se)],8,Io)):_("",!0),e.is_exit?(i(),n("button",{key:1,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-500 rounded",onClick:M=>Tt(e)},[r(re)],8,So)):_("",!0)]),t("td",Fo,[(i(!0),n(T,null,X(e.car_images,(M,qt)=>(i(),n("a",{key:qt,href:Rt(M.name),style:{cursor:"pointer"},target:"_blank"},[t("img",{src:Vt(M.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,To)],8,Eo))),128))]),t("td",Bo,[D().totalAmount*-1-((pt=a(c))==null?void 0:pt.cars_paid)!=0?(i(),n("button",{key:0,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:M=>gt(e)}," \u062F\u0641\u0639 \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",8,Uo)):_("",!0),D().totalAmount*-1-((mt=a(c))==null?void 0:mt.cars_sum)!=0&&e.paid?(i(),n("button",{key:1,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 mt-1 text-white mx-1 bg-red-500 rounded",onClick:M=>vt(e)}," \u0627\u0639\u0627\u062F\u0629 \u0644\u0644\u0631\u0635\u064A\u062F ",8,Vo)):_("",!0)])],2)),[[Wt,e.results==2&&a(y)||e.results!=2]])}),128))])])])]),t("div",Ro,[r(a(Kt),{data:a(c),onPaginationChangePage:a(K),limit:2},null,8,["data","onPaginationChangePage"])])])])])):_("",!0),t("div",qo,[t("div",zo,[t("div",jo,[et(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 "),Ho,et(" "+l((ct=a(c).client)==null?void 0:ct.name),1)]),Lo,Wo])])]}),_:1})],64))}};export{_a as default};
