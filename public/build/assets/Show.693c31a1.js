import{y as Bt,r as m,u as jt,a as i,g as r,j as a,w as A,F as R,o as c,H as Ht,k as b,b as t,t as l,i as _,e as pt,z as Lt,h as K,l as H,f as tt,s as Wt,n as Ot}from"./app.9fb28ceb.js";import{_ as Yt}from"./AuthenticatedLayout.7207ee7e.js";import{M as Gt}from"./Modal.d9d3f9a3.js";import{t as Jt}from"./laravel-vue-pagination.es.a5d889f7.js";import{_ as h}from"./InputLabel.ad297274.js";import{_ as $}from"./TextInput.f73dea40.js";import{a as D}from"./index.4e0323e5.js";import{M as Kt}from"./ModalDelCar.b9499c81.js";import{_ as Qt}from"./ModalEditCar_S.01cccdf7.js";import{_ as Xt}from"./ModalAddCarPayment.2898491d.js";import{_ as Zt,a as te,b as ee,c as se,e as oe}from"./exit.9ca52a3f.js";import{p as mt}from"./print.5bf5c568.js";import{p as _t}from"./pay.fdfafd5b.js";import{t as ae}from"./trash.939c937a.js";import{e as re}from"./edit.eb20c044.js";import{s as le}from"./show.bbd410da.js";import{n as ne}from"./new.6e25dac5.js";/* empty css                                              *//* empty css                                                    */import"./Uploader.654df642.js";/* empty css                                                                 *//* empty css                                                       */const de=t("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1),ie=t("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),ce={key:0},ue={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},pe={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},me={key:1,class:"py-4"},_e={class:"text-center pb-2 dark:text-gray-400"},he={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},be={class:"overflow-hidden shadow-sm sm:rounded-lg"},ye={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},xe={class:"pr-4"},ge={value:"undefined",disabled:""},fe=["value"],ve={className:"mb-4  mr-5"},ke={class:"flex items-center ps-4 rounded-lg border border-gray-300 text-gray-900 mt-1"},we=["value","checked"],$e={for:"bordered-checkbox-1",class:"w-full pt-3 py-2 mx-4 text-sm font-medium text-gray-900 dark:text-gray-300"},Ce={class:"px-4"},Ne={className:"mb-4 mx-5"},Ae={class:"px-4"},De={className:"mb-4 mx-5"},Se={className:"mb-4  mr-5 print:hidden"},Pe=t("span",null,"\u0641\u0644\u062A\u0631\u0629",-1),Ie=[Pe],Me={className:"mb-4  mr-5 print:hidden"},Ee=["href"],Te=t("span",null,"\u0637\u0628\u0627\u0639\u0629",-1),Fe=[Te],Ue={className:"mb-4  mr-5 print:hidden"},Ve=["href"],Re=t("span",null,"Excel",-1),qe=[Re],ze={className:"mb-4  mr-5"},Be={className:"mb-4  mr-5"},je={className:"mb-4  mr-5"},He={className:"mb-4  mr-5"},Le={className:"mb-4  mr-5"},We={key:0,className:"mb-4  mr-5 print:hidden"},Oe=["disabled"],Ye=t("span",null,"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1),Ge=[Ye],Je=["disabled"],Ke=t("span",null,"\u0627\u062E\u0641\u0627\u0621 \u062F\u0641\u0639\u0629",-1),Qe=[Ke],Xe={className:"mb-4  mr-5 print:hidden"},Ze=["disabled"],ts=t("span",null,"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),es=[ts],ss=t("span",null,"\u0627\u062E\u0641\u0627\u0621 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),os=[ss],as={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"},rs={className:"mb-4  mr-5"},ls={className:"mb-4  mr-5"},ns={className:"mb-4  mr-5"},ds={className:"mb-4  mr-5 print:hidden"},is=["disabled"],cs={key:0},us={key:1},ps={key:2},ms={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},_s={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},hs={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},bs={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},ys=t("th",{className:"px-1 py-2 text-base"},"#",-1),xs={className:"px-1 py-2 text-base"},gs={className:"px-1 py-2 text-base"},fs={className:"px-1 py-2 text-base"},vs={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},ks={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},ws=t("td",null,null,-1),$s=t("td",null,null,-1),Cs=t("td",null,null,-1),Ns=t("td",null,null,-1),As={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ds=["href"],Ss={key:0,class:"text-center"},Ps={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Is={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ms={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Es={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ts={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Fs=["href"],Us={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Vs=t("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A",-1),Rs=t("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),qs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},zs={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Bs={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},js={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Hs={class:"rounded-l-lg mb-2 sm:mb-0"},Ls={scope:"col",class:"px-1 py-2 text-base"},Ws={scope:"col",class:"px-1 py-2 text-base"},Os={scope:"col",class:"px-1 py-2 text-base"},Ys={scope:"col",class:"px-1 py-2 text-base"},Gs={scope:"col",class:"px-1 py-2 text-base"},Js={scope:"col",class:"px-1 py-2 text-base"},Ks={scope:"col",class:"px-1 py-2 text-base print:hidden"},Qs=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0633\u0639\u0631 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0627\u0645\u0631\u064A\u0643\u0627 ",-1),Xs=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0634\u062D\u0646 \u0627\u0645\u0631\u064A\u0643\u0627 ",-1),Zs=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0643\u0631\u064A\u0646 ",-1),to=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0645\u0635\u0627\u0631\u064A\u0641 \u062F\u0628\u064A ",-1),eo={scope:"col",class:"px-1 py-2 text-base"},so={scope:"col",class:"px-1 py-2 text-base"},oo={scope:"col",class:"px-1 py-2 text-base"},ao={scope:"col",class:"px-1 py-2 text-base"},ro={scope:"col",class:"px-1 py-2 text-base"},lo={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},no=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ",-1),io={className:"border dark:border-gray-800 text-center px-2 py-1"},co={className:"border dark:border-gray-800 text-center px-2 py-1"},uo={className:"border dark:border-gray-800 text-center px-2 py-1"},po={className:"border dark:border-gray-800 text-center px-2 py-1"},mo={className:"border dark:border-gray-800 text-center px-2 py-1"},_o={className:"border dark:border-gray-800 text-center px-2 py-1"},ho={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},bo={className:"border dark:border-gray-800 text-center px-2 py-1"},yo={className:"border dark:border-gray-800 text-center px-2 py-1"},xo={className:"border dark:border-gray-800 text-center px-2 py-1"},go={className:"border dark:border-gray-800 text-center px-2 py-1"},fo={className:"border dark:border-gray-800 text-center px-2 py-1"},vo={className:"border dark:border-gray-800 text-center px-2 py-1"},ko={className:"border dark:border-gray-800 text-center px-1 py-2 "},wo={className:"border dark:border-gray-800 text-center px-2 py-1"},$o={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Co=["onClick"],No=["onClick"],Ao=["onClick"],Do=["onClick"],So=["onClick"],Po=["onClick"],Io=["onClick"],Mo={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Eo=["href"],To=["src"],Fo={class:"mt-3 text-center",style:{direction:"ltr"}},Uo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},Vo={class:"flex flex-row"},Ro={class:"basis-1/2"},qo=t("br",null,null,-1),zo=t("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1),Bo=t("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1),ca={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object,q:String},setup(L){const Q=L;let y=Bt();m(0);let u=m({}),S=m(0),v=m(0),k=m(0),I=m(!1),q=m(!1),z=m(!1),M=m(!1),X=m(!1),B=m(!1),x=m(!1),E=m(!1),T=m(!1),F=m(!1),W=m(!1);m(0);let n=m({}),U=m(0),j=m(""),w=m(0),f=m(0);m(0);let Y=async(s=1)=>{D.get(`/api/getIndexAccountsSelas?page=${s}&user_id=${Q.client_id}&from=${v.value}&to=${k.value}`).then(o=>{u.value=o.data,f.value=o.data.client.id}).catch(o=>{console.error(o)})};function G(){return{totalAmount:u.value.transactions.filter(d=>d.type==="out"&&d.amount<0&&d.is_pay===1).reduce((d,p)=>d+p.amount,0)}}const P=async(s=1)=>{D.get(`/api/getIndexAccountsSelas?page=${s}&user_id=${f.value}&from=${v.value}&to=${k.value}`).then(o=>{u.value=o.data,f.value=o.data.client.id}).catch(o=>{console.error(o)})};Y();const ht=jt();let C=m(!1);function bt(s){ht.get(route("sentToCourt",s)),Y(),C.value=!1}function yt(s={}){n.value=s,z.value=!0}function xt(s={}){n.value=s,n.value.shipping_dolar_s==0&&(n.value.shipping_dolar_s=n.value.shipping_dolar),n.value.coc_dolar_s==0&&(n.value.coc_dolar_s=n.value.coc_dolar),n.value.checkout_s==0&&(n.value.checkout_s=n.value.checkout),n.value.expenses_s==0&&(n.value.expenses_s=n.value.expenses),q.value=!0}function gt(s={}){n.value=s,n.value.notePayment=" \u0628\u064A\u062F ",M.value=!0}function ft(s){D.post("/api/DelCar",s).then(o=>{z.value=!1,window.location.reload()}).catch(o=>{console.error(o)})}function vt(s){q.value=!1,D.post("/api/updateCarsS",s).then(o=>{C.value=!1,y.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),P()}).catch(o=>{y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),P()})}function kt(s){var o,d;s.discountPayment||(s.discountPayment=0),D.get(`/api/addPaymentCar?car_id=${s.id}&discount=${s.discountPayment}&amount=${(o=s.amountPayment)!=null?o:0}&note=${(d=s.notePayment)!=null?d:""}`).then(p=>{M.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+s.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),P();let g=p.data;window.open(`/api/getIndexAccountsSelas?user_id=${Q.client_id}&print=2&transactions_id=${g.id}`,"_blank")}).catch(p=>{C.value=!1,console.log(p),y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function wt(s,o,d,p){S.value=!0,D.get(`/api/addPaymentCarTotal?amount=${s!=null?s:0}&discount=${d!=null?d:0}&note=${p}&client_id=${o!=null?o:0}`).then(g=>{M.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+s+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),I.value=!1,S.value=!1,P(),$t();let V=g.data;window.open(`/api/getIndexAccountsSelas?user_id=${Q.client_id}&print=2&transactions_id=${V.id}`,"_blank")}).catch(g=>{console.log(g),C.value=!1,S.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function $t(){w.value=0,U.value=0,j.value=""}function Ct(){I.value=!0,B.value=!1}function Nt(){I.value=!1}function At(){B.value=!0,I.value=!1}function Dt(){B.value=!1}function St(s={}){n.value=s,n.value.prices=100,n.value.price_dinars=5e4,E.value=!0}function Pt(s={}){n.value=s,T.value=!0}function It(s={}){n.value=s,n.value.createdExit=Vt(),F.value=!0}function Mt(s={}){n.value=s,W.value=!0}function Et(){var o,d,p;let s=(p=(d=(o=u==null?void 0:u.value)==null?void 0:o.client)==null?void 0:d.wallet)==null?void 0:p.balance;w.value=s-U.value}function Tt(){var o,d,p;let s=(p=(d=(o=u==null?void 0:u.value)==null?void 0:o.client)==null?void 0:d.wallet)==null?void 0:p.balance;console.log(s),w.value>s?(w.value=s,X.value=!0,y.info(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 "+w.value,{timeout:4e3,position:"bottom-right",rtl:!0})):X.value=!1}function Ft(s){var o,d,p,g,V,O;D.get(`/api/addCarContracts?car_id=${s.id}&price=${(o=s.prices)!=null?o:0}&price_dinar=${(d=s.price_dinars)!=null?d:0}&paid=${(p=s.paids)!=null?p:0}&paid_dinar=${(g=s.paid_dinars)!=null?g:0}&phone=${(V=s.phone)!=null?V:""}&note=${(O=s.note)!=null?O:""}`).then(J=>{E.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),P()}).catch(J=>{E.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Ut(s){var o,d,p;D.get(`/api/editCarContracts?car_id=${s.id}&paid=${(o=s.paids)!=null?o:0}&paid_dinar=${(d=s.paid_dinars)!=null?d:0}&note=${(p=s.notePayment)!=null?p:""}`).then(g=>{T.value=!1,y.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+s.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),P()}).catch(g=>{T.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function et(s){D.get(`/api/makeCarExit?car_id=${s.id}&created=${s.createdExit}&phone=${s.phoneExit}&note=${s.noteExit}`).then(o=>{F.value=!1,y.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u062E\u0631\u0648\u062C\u064A\u0629 \u0644\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0}),P()}).catch(o=>{F.value=!1,y.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Vt(){const s=new Date,o=s.getFullYear(),d=String(s.getMonth()+1).padStart(2,"0"),p=String(s.getDate()).padStart(2,"0");return`${o}-${d}-${p}`}function Rt(s){return`/public/uploadsResized/${s}`}function qt(s){return`/public/uploads/${s}`}return(s,o)=>(c(),i(R,null,[r(a(Ht),{title:"Dashboard"}),r(Yt,null,{header:A(()=>[de]),default:A(()=>{var d,p,g,V,O,J,st,ot,at,rt,lt,nt;return[r(Zt,{formData:a(n),show:!!a(E),onA:o[0]||(o[0]=e=>Ft(e)),onClose:o[1]||(o[1]=e=>b(E)?E.value=!1:E=!1)},{header:A(()=>[]),_:1},8,["formData","show"]),r(te,{formData:a(n),show:!!a(T),onA:o[2]||(o[2]=e=>Ut(e)),onClose:o[3]||(o[3]=e=>b(T)?T.value=!1:T=!1)},{header:A(()=>[]),_:1},8,["formData","show"]),r(ee,{formData:a(n),show:!!a(F),onA:o[4]||(o[4]=e=>et(e)),onClose:o[5]||(o[5]=e=>b(F)?F.value=!1:F=!1)},{header:A(()=>[]),_:1},8,["formData","show"]),r(se,{formData:a(n),show:!!a(W),onA:o[6]||(o[6]=e=>et(e)),onClose:o[7]||(o[7]=e=>b(W)?W.value=!1:W=!1)},{header:A(()=>[]),_:1},8,["formData","show"]),r(Qt,{formData:a(n),show:!!a(q),client:L.clients,onA:o[8]||(o[8]=e=>vt(e)),onClose:o[9]||(o[9]=e=>b(q)?q.value=!1:q=!1)},{header:A(()=>[]),_:1},8,["formData","show","client"]),r(Xt,{formData:a(n),show:!!a(M),onA:o[10]||(o[10]=e=>kt(e)),onClose:o[11]||(o[11]=e=>b(M)?M.value=!1:M=!1)},{header:A(()=>[]),_:1},8,["formData","show"]),r(Kt,{show:!!a(z),formData:a(n),onA:o[12]||(o[12]=e=>ft(e)),onClose:o[13]||(o[13]=e=>b(z)?z.value=!1:z=!1)},{header:A(()=>[ie]),_:1},8,["show","formData"]),r(Gt,{show:!!a(C),data:a(C).toString(),onA:o[14]||(o[14]=e=>bt(e,s.arg1)),onClose:o[15]||(o[15]=e=>b(C)?C.value=!1:C=!1)},null,8,["show","data"]),s.$page.props.success?(c(),i("div",ce,[t("div",ue,[t("div",pe,l(s.$page.props.success),1)])])):_("",!0),s.$page.props.auth.user.type_id==1||s.$page.props.auth.user.type_id==6?(c(),i("div",me,[t("h2",_e,l(s.$t("sales_bill")),1),t("div",he,[t("div",be,[t("div",ye,[t("div",xe,[r(h,{class:"mb-1",for:"invoice_number",value:s.$t("Account")},null,8,["value"]),pt(t("select",{onChange:o[16]||(o[16]=e=>P()),"onUpdate:modelValue":o[17]||(o[17]=e=>b(f)?f.value=e:f=e),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[t("option",ge,l(s.$t("selectCustomer")),1),(c(!0),i(R,null,K(L.clients,(e,Z)=>(c(),i(R,{key:Z},[e.wallet.balance>0||e.id==a(f)?(c(),i("option",{key:0,value:e.id},l(e.name),9,fe)):_("",!0)],64))),128))],544),[[Lt,a(f)]])]),t("div",null,[t("div",ve,[r(h,{for:"totalAmount",value:"\u0641\u0644\u062A\u0631\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629"}),t("div",ke,[t("input",{id:"bordered-checkbox-1",type:"checkbox",onChange:o[18]||(o[18]=e=>a(x)==!0?b(x)?x.value=!1:x=!1:b(x)?x.value=!0:x=!0),value:a(x),checked:!a(x),name:"bordered-checkbox",class:"w-4 h-4 mx-2 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,we),t("label",$e,l(a(x)==!1?" \u062A\u0645 \u0627\u0644\u0641\u0644\u062A\u0631":"\u062A\u0645 \u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"),1)])])]),t("div",Ce,[t("div",Ne,[r(h,{for:"from",value:s.$t("from_date")},null,8,["value"]),r($,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:a(v),"onUpdate:modelValue":o[19]||(o[19]=e=>b(v)?v.value=e:v=e)},null,8,["modelValue"])])]),t("div",Ae,[t("div",De,[r(h,{for:"to",value:s.$t("to_date")},null,8,["value"]),r($,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:a(k),"onUpdate:modelValue":o[20]||(o[20]=e=>b(k)?k.value=e:k=e)},null,8,["modelValue"])])]),t("div",Se,[r(h,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),t("button",{onClick:o[21]||(o[21]=H(e=>a(Y)(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},Ie)]),t("div",Me,[r(h,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),t("a",{href:`/api/getIndexAccountsSelas?user_id=${a(f)}&from=${a(v)}&to=${a(k)}&print=1&showComplatedCars=${a(x)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center",style:{width:"100%"}},Fe,8,Ee)]),t("div",Ue,[r(h,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),t("a",{href:`/api/getIndexAccountsSelas?user_id=${a(f)}&from=${a(v)}&to=${a(k)}&print=1&printExcel=1&showComplatedCars=${a(x)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center",style:{width:"100%"}},qe,8,Ve)]),t("div",ze,[r(h,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),r($,{id:"car_total",type:"text",class:"mt-1 block w-full",value:a(u).car_total,disabled:""},null,8,["value"])]),t("div",Be,[r(h,{for:"cars_sum",value:s.$t("Total_in_dollars")},null,8,["value"]),r($,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(d=a(u))==null?void 0:d.cars_sum,disabled:""},null,8,["value"])]),t("div",je,[r(h,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r($,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:parseFloat((p=a(u))==null?void 0:p.cars_sum)-(parseFloat((O=(V=(g=a(u))==null?void 0:g.client)==null?void 0:V.wallet)==null?void 0:O.balance)+parseFloat((J=a(u))==null?void 0:J.cars_discount)),disabled:""},null,8,["value"])]),t("div",He,[r(h,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r($,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:(st=a(u))==null?void 0:st.cars_discount,disabled:""},null,8,["value"])]),t("div",Le,[r(h,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),r($,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:G().totalAmount*-1-((ot=a(u))==null?void 0:ot.cars_sum),disabled:""},null,8,["value"])]),G().totalAmount*-1-((at=a(u))==null?void 0:at.cars_sum)!=0?(c(),i("div",We,[r(h,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629"}),a(I)?_("",!0):(c(),i("button",{key:0,onClick:o[22]||(o[22]=H(e=>Ct(),["prevent"])),disabled:a(S),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},Ge,8,Oe)),a(I)?(c(),i("button",{key:1,onClick:o[23]||(o[23]=H(e=>Nt(),["prevent"])),disabled:a(S),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},Qe,8,Je)):_("",!0)])):_("",!0),t("div",Xe,[r(h,{for:"pay",value:"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"}),a(B)?_("",!0):(c(),i("button",{key:0,onClick:o[24]||(o[24]=H(e=>At(),["prevent"])),disabled:a(S),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-purple-500 rounded",style:{width:"100%"}},es,8,Ze)),a(B)?(c(),i("button",{key:1,onClick:o[25]||(o[25]=H(e=>Dt(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},os)):_("",!0)])]),a(I)?(c(),i("div",as,[t("div",rs,[r(h,{for:"discount",value:"\u0627\u0644\u062E\u0635\u0645"}),r($,{id:"discount",type:"number",onInput:Et,class:"mt-1 block w-full",modelValue:a(U),"onUpdate:modelValue":o[26]||(o[26]=e=>b(U)?U.value=e:U=e)},null,8,["modelValue"])]),t("div",ls,[r(h,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),r($,{id:"percentage",type:"number",onInput:Tt,class:"mt-1 block w-full",modelValue:a(w),"onUpdate:modelValue":o[27]||(o[27]=e=>b(w)?w.value=e:w=e)},null,8,["modelValue"])]),t("div",ns,[r(h,{for:"discount",value:"\u0645\u0644\u0627\u062D\u0638\u0629"}),r($,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:a(j),"onUpdate:modelValue":o[28]||(o[28]=e=>b(j)?j.value=e:j=e)},null,8,["modelValue"])]),t("div",ds,[r(h,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),t("button",{onClick:o[29]||(o[29]=H(e=>wt(a(w),a(f),a(U),a(j)),["prevent"])),disabled:a(S),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[a(X)?(c(),i("span",cs,"\u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0644")):_("",!0),a(S)?(c(),i("span",ps,"\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...")):(c(),i("span",us,"\u062F\u0641\u0639"))],8,is)])])):_("",!0),a(B)?(c(),i("div",ms,[t("table",_s,[t("thead",hs,[t("tr",bs,[ys,t("th",xs,l(s.$t("date")),1),t("th",gs,l(s.$t("description")),1),t("th",fs,l(s.$t("amount")),1),t("th",vs,l(s.$t("execute")),1)])]),t("tbody",null,[t("tr",ks,[ws,$s,Cs,Ns,t("td",As,[t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a(u).client.id}&from=${a(v)}&to=${a(k)}&print=4`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[tt(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A "),r(mt)],8,Ds)])]),(c(!0),i(R,null,K(a(u).transactions,e=>(c(),i(R,{key:e.id},[e.type=="out"&&e.amount<0&&e.is_pay==1?(c(),i("tr",Ss,[t("td",Ps,l(e.id),1),t("td",Is,l(e.created),1),t("td",Ms,l(e.description),1),t("td",Es,l(e.amount*-1),1),t("td",Ts,[e.type=="out"&&e.amount<0?(c(),i("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a(u).client.id}&from=${a(v)}&to=${a(k)}&print=2&transactions_id=${e.id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[r(mt)],8,Fs)):_("",!0)])])):_("",!0)],64))),128)),t("tr",Us,[Vs,t("td",null,l((rt=a(u))==null?void 0:rt.cars_discount),1),Rs,t("td",qs,l(G().totalAmount*-1),1),t("td",null,"\u0627\u0644\u0646\u062A\u0627\u062A\u062C : "+l(G().totalAmount*-1-parseInt((lt=a(u))==null?void 0:lt.cars_discount)),1)])])])])):_("",!0),t("div",null,[t("div",zs,[t("table",Bs,[t("thead",js,[t("tr",Hs,[t("th",Ls,l(s.$t("no")),1),t("th",Ws,l(s.$t("car_type")),1),t("th",Os,l(s.$t("year")),1),t("th",Ys,l(s.$t("color")),1),t("th",Gs,l(s.$t("vin")),1),t("th",Js,l(s.$t("car_number"))+" copart ",1),t("th",Ks,l(s.$t("note")),1),Qs,Xs,Zs,to,t("th",eo,l(s.$t("expenses")),1),t("th",so,l(s.$t("total")),1),t("th",oo,l(s.$t("paid")),1),t("th",ao,l(s.$t("discount")),1),t("th",ro,l(s.$t("date")),1),t("th",lo,l(s.$t("execute")),1),no])]),t("tbody",null,[(c(!0),i(R,null,K(a(u).data,(e,Z)=>{var dt,it,ct,ut;return pt((c(),i("tr",{key:e.id,class:Ot([{"bg-red-100 dark:bg-red-900":e.results==0,"bg-red-100 dark:bg-red-900":e.results==1,"bg-green-100 dark:bg-green-900":e.results==2,"bg-yellow-100 dark:bg-yellow-900":e.vin.startsWith(L.q)||e.car_number.toString().startsWith(L.q)},"border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[t("td",io,l(Z+1),1),t("td",co,l(e.car_type),1),t("td",uo,l(e.year),1),t("td",po,l(e.car_color),1),t("td",mo,l(e.vin),1),t("td",_o,l(e.car_number),1),t("td",ho,l(e.note),1),t("td",bo,l(e.shipping_dolar_s),1),t("td",yo,l(e.coc_dolar_s),1),t("td",xo,l(e.checkout_s),1),t("td",go,l(e.expenses_s),1),t("td",fo,l(e.total_s.toFixed(0)),1),t("td",vo,l(e.paid),1),t("td",ko,l(e.discount),1),t("td",wo,l(e.date),1),t("td",$o,[t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:N=>xt(e)},[r(re)],8,Co),t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:N=>yt(e)},[r(ae)],8,No),e.total_s!=e.paid+e.discount?(c(),i("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:N=>gt(e)},[r(_t)],8,Ao)):_("",!0),((dt=e.contract)==null?void 0:dt.price)!=((it=e.contract)==null?void 0:it.paid)||((ct=e.contract)==null?void 0:ct.price_dinar)!=((ut=e.contract)==null?void 0:ut.paid_dinar)?(c(),i("button",{key:1,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-pink-500 rounded",onClick:N=>Pt(e)},[r(_t)],8,Do)):_("",!0),e.contract?_("",!0):(c(),i("button",{key:2,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-yellow-500 rounded",onClick:N=>St(e)},[r(ne)],8,So)),e.is_exit?_("",!0):(c(),i("button",{key:3,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-red-500 rounded",onClick:N=>It(e)},[r(oe)],8,Po)),e.is_exit?(c(),i("button",{key:4,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-500 rounded",onClick:N=>Mt(e)},[r(le)],8,Io)):_("",!0)]),t("td",Mo,[(c(!0),i(R,null,K(e.car_images,(N,zt)=>(c(),i("a",{key:zt,href:qt(N.name),style:{cursor:"pointer"},target:"_blank"},[t("img",{src:Rt(N.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,To)],8,Eo))),128))])],2)),[[Wt,e.results==2&&a(x)||e.results!=2]])}),128))])])])]),t("div",Fo,[r(a(Jt),{data:a(u),onPaginationChangePage:a(Y),limit:2},null,8,["data","onPaginationChangePage"])])])])])):_("",!0),t("div",Uo,[t("div",Vo,[t("div",Ro,[tt(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 "),qo,tt(" "+l((nt=a(u).client)==null?void 0:nt.name),1)]),zo,Bo])])]}),_:1})],64))}};export{ca as default};
