import{y as jt,r as p,D as Ht,u as Wt,a as c,g as l,j as a,w as $,F as E,o as u,H as Ot,k as b,b as t,t as r,i as _,e as ht,z as Gt,h as at,l as J,f as dt,s as Jt,n as Kt}from"./app.01a49fdd.js";import{_ as Qt}from"./AuthenticatedLayout.ea35b697.js";import{M as Xt}from"./Modal.a8937fe8.js";import{t as Yt}from"./laravel-vue-pagination.es.2fdd61ba.js";import{_ as h}from"./InputLabel.0caabc83.js";import{_ as D}from"./TextInput.9fa17744.js";import{a as v}from"./index.d3521c47.js";import{M as it}from"./ModalDelCar.42451819.js";import{_ as Zt}from"./ModalEditCar_S.6530e242.js";import{_ as te}from"./ModalAddCarPayment.23936772.js";import{_ as ee,a as se,b as oe,c as ae}from"./ModalShowExitCar.000921bd.js";import{p as bt}from"./print.10d1d189.js";import{p as re}from"./pay.22c13a48.js";import{t as le}from"./trash.f536ac50.js";import{e as ne}from"./edit.3444cd62.js";import{s as de}from"./show.e7ef1e5f.js";/* empty css                                              *//* empty css                                                    */import"./Uploader.f31eee5a.js";/* empty css                                                                 *//* empty css                                                       */const ie=t("h2",{class:"font-semibold text-xl dark:text-gray-400 text-gray-800 leading-tight"}," \u0634\u0631\u0643\u0629 \u0633\u0644\u0627\u0645 \u062C\u0644\u0627\u0644 ",-1),ce=t("h2",{class:"mb-5 dark:text-gray-400 text-center"}," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F ",-1),ue={class:"mb-5 dark:text-gray-400 text-center"},pe={class:"mb-5 dark:text-gray-400 text-center"},me={key:0},_e={id:"alert-2",class:"p-4 mb-4 bg-red-100 rounded-lg dark:bg-red-200 text-center",role:"alert"},he={class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"},be={key:1,class:"py-4"},ye={class:"text-center pb-2 dark:text-gray-400"},fe={class:"max-w-9xl mx-auto sm:px-6 lg:px-8 p-6 dark:bg-gray-900"},xe={class:"overflow-hidden shadow-sm sm:rounded-lg"},ge={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 lg:gap-1"},ve={class:"pr-4"},ke={value:"undefined",disabled:""},we=["value"],$e={className:"mb-4  mr-5"},Ce={class:"flex items-center ps-4 rounded-lg border border-gray-300 text-gray-900 mt-1"},Ne=["value","checked"],Ae={for:"bordered-checkbox-1",class:"w-full pt-3 py-2 mx-4 text-sm font-medium text-gray-900 dark:text-gray-300"},De={class:"px-4"},Pe={className:"mb-4 mx-5"},Me={class:"px-4"},Ie={className:"mb-4 mx-5"},Se={className:"mb-4  mr-5 print:hidden"},Fe=t("span",null,"\u0641\u0644\u062A\u0631\u0629",-1),Be=[Fe],Te={className:"mb-4  mr-5 print:hidden"},Ee=["href"],Ue=t("span",null,"\u0637\u0628\u0627\u0639\u0629",-1),Re=[Ue],Ve={className:"mb-4  mr-5 print:hidden"},qe=["href"],ze=t("span",null,"Excel",-1),Le=[ze],je={className:"mb-4  mr-5"},He={className:"mb-4  mr-5"},We={className:"mb-4  mr-5"},Oe={className:"mb-4  mr-5"},Ge={className:"mb-4  mr-5"},Je=["value"],Ke={className:"mb-4  mr-5 print:hidden"},Qe=["disabled"],Xe=t("span",null,"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629",-1),Ye=[Xe],Ze=["disabled"],ts=t("span",null,"\u0627\u062E\u0641\u0627\u0621 \u062F\u0641\u0639\u0629",-1),es=[ts],ss={className:"mb-4  mr-5 print:hidden"},os=["disabled"],as=t("span",null,"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),rs=[as],ls=t("span",null,"\u0627\u062E\u0641\u0627\u0621 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),ns=[ls],ds={key:0,className:"mb-4  mr-5"},is={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 lg:gap-1"};const cs={className:"mb-4  mr-5"},us={className:"mb-4  mr-5"},ps={className:"mb-4  mr-5 print:hidden"},ms=["disabled"],_s={key:0},hs={key:1},bs={key:2},ys={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-4 mb-5"},fs={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},xs={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},gs={class:"bg-rose-500 text-gray-100 rounded-l-lg mb-2 sm:mb-0"},vs=t("th",{className:"px-1 py-2 text-base"},"#",-1),ks={className:"px-1 py-2 text-base"},ws={className:"px-1 py-2 text-base"},$s={className:"px-1 py-2 text-base"},Cs={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},Ns={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},As=t("td",null,null,-1),Ds=t("td",null,null,-1),Ps=t("td",null,null,-1),Ms=t("td",null,null,-1),Is={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ss=["href"],Fs={key:0,class:"text-center"},Bs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Ts={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Es={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Us={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Rs={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Vs=["href"],qs={class:"text-center px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},zs=t("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A",-1),Ls=t("td",null,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A",-1),js={className:"px-4 py-2 border dark:border-gray-800 dark:text-gray-200"},Hs={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Ws={class:"w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center"},Os={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},Gs={class:"rounded-l-lg mb-2 sm:mb-0"},Js={scope:"col",class:"px-1 py-2 text-base"},Ks={scope:"col",class:"px-1 py-2 text-base"},Qs={scope:"col",class:"px-1 py-2 text-base"},Xs={scope:"col",class:"px-1 py-2 text-base"},Ys={scope:"col",class:"px-1 py-2 text-base"},Zs={scope:"col",class:"px-1 py-2 text-base"},to={scope:"col",class:"px-1 py-2 text-base print:hidden"},eo=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0633\u0639\u0631 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0627\u0645\u0631\u064A\u0643\u0627 ",-1),so=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0646\u0642\u0644 \u062F\u0628\u064A ",-1),oo=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0643\u0631\u064A\u0646 ",-1),ao=t("th",{scope:"col",class:"px-1 py-3 text-base"}," \u0645\u0635\u0627\u0631\u064A\u0641 \u062F\u0628\u064A ",-1),ro=t("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0634\u062D\u0646 \u0627\u0631\u0628\u064A\u0644 ",-1),lo=t("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0645\u0635\u0627\u0631\u064A\u0641 \u0627\u0631\u0628\u064A\u0644 ",-1),no={scope:"col",class:"px-1 py-2 text-base"},io={scope:"col",class:"px-1 py-2 text-base"},co=t("th",{scope:"col",class:"px-1 py-2 text-base"}," \u0627\u0644\u0645\u062A\u0628\u0642\u064A ",-1),uo={scope:"col",class:"px-1 py-2 text-base"},po={scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"250px"}},mo=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"100px"}}," \u062A\u062E\u0632\u064A\u0646 ",-1),_o=t("th",{scope:"col",class:"px-1 py-2 text-base print:hidden",style:{width:"120px"}}," \u0627\u0644\u0631\u0635\u064A\u062F ",-1),ho={className:"border dark:border-gray-800 text-center px-2 py-1"},bo={className:"border dark:border-gray-800 text-center px-2 py-1"},yo={className:"border dark:border-gray-800 text-center px-2 py-1"},fo={className:"border dark:border-gray-800 text-center px-2 py-1"},xo={className:"border dark:border-gray-800 text-center px-2 py-1"},go={className:"border dark:border-gray-800 text-center px-2 py-1"},vo={className:"border dark:border-gray-800 text-center px-2 py-1 print:hidden"},ko={className:"border dark:border-gray-800 text-center px-2 py-1"},wo={className:"border dark:border-gray-800 text-center px-2 py-1"},$o={className:"border dark:border-gray-800 text-center px-2 py-1"},Co={className:"border dark:border-gray-800 text-center px-2 py-1"},No={className:"border dark:border-gray-800 text-center px-2 py-1"},Ao={className:"border dark:border-gray-800 text-center px-2 py-1"},Do={className:"border dark:border-gray-800 text-center px-2 py-1"},Po={className:"border dark:border-gray-800 text-center px-2 py-1"},Mo={className:"border dark:border-gray-800 text-center px-1 py-2 "},Io={className:"border dark:border-gray-800 text-center px-2 py-1"},So={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Fo=["onClick"],Bo=["onClick"],To=["onClick"],Eo=["onClick"],Uo={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},Ro=["href"],Vo=["src"],qo={className:"border dark:border-gray-800 text-start px-2 py-1 print:hidden"},zo=["onClick"],Lo=["onClick"],jo={class:"mt-3 text-center",style:{direction:"ltr"}},Ho={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 dark:text-gray-400 hidden print:block"},Wo={class:"flex flex-row"},Oo={class:"basis-1/2"},Go=t("br",null,null,-1),Jo=t("div",{class:"basis-1/2 text-center"},"\u062A\u0648\u0642\u064A\u0639 \u0642\u0633\u0645 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629",-1),Ko=t("div",{class:"basis-1/2 text-end"},"\u062A\u0648\u0642\u064A\u0639 \u0627\u0644\u0645\u062F\u064A\u0631",-1),fa={__name:"Show",props:{url:String,clients:Array,client_id:String,client:Object,q:String},setup(K){const rt=K;let f=jt();p(0);let n=p({}),P=p(0),k=p(0),w=p(0),S=p(!1),U=p(!1),R=p(!1),F=p(!1),yt=p(!1),V=p(!1),x=p(!1),q=p(!1),z=p(!1),L=p(!1),Q=p(!1);p(0);let i=p({}),lt=p(0),j=p(""),B=p(0),g=p(0),H=p(!1),W=p(!1),X=async(o=1)=>{v.get(`/api/getIndexAccountsSelas?page=${o}&user_id=${rt.client_id}&from=${k.value}&to=${w.value}`).then(e=>{n.value=e.data,g.value=e.data.client.id}).catch(e=>{console.error(e)})};function C(){return n.value&&n.value.transactions&&Array.isArray(n.value.transactions)?{totalAmount:n.value.transactions.filter(d=>d.type==="out"&&d.amount<0&&d.is_pay===1).reduce((d,m)=>d+m.amount,0)}:{totalAmount:0}}const N=async(o=1)=>{v.get(`/api/getIndexAccountsSelas?page=${o}&user_id=${g.value}&from=${k.value}&to=${w.value}`).then(e=>{n.value=e.data,g.value=e.data.client.id}).catch(e=>{console.error(e)})};X(),Ht(()=>{var o;return(o=n.value)==null?void 0:o.cars_sum},o=>{var e,d;o&&((d=(e=n.value)==null?void 0:e.client)==null?void 0:d.id)&&setTimeout(()=>{zt(o)},500)},{immediate:!1});const ft=Wt();let A=p(!1);function xt(o){ft.get(route("sentToCourt",o)),X(),A.value=!1}function gt(o={}){i.value=o,R.value=!0}function vt(o={}){i.value=o,H.value=!0}function kt(o={}){i.value=o,W.value=!0}function wt(o={}){i.value=o,i.value.shipping_dolar_s==0&&(i.value.shipping_dolar_s=i.value.shipping_dolar),i.value.coc_dolar_s==0&&(i.value.coc_dolar_s=i.value.coc_dolar),i.value.checkout_s==0&&(i.value.checkout_s=i.value.checkout),i.value.expenses_s==0&&(i.value.expenses_s=i.value.expenses),U.value=!0}function $t(o={}){i.value=o,i.value.notePayment=" \u0628\u064A\u062F ",F.value=!0}function Ct(o){v.post("/api/DelCar",o).then(e=>{R.value=!1,window.location.reload()}).catch(e=>{console.error(e)})}function Nt(o){var e;o.balance=C().totalAmount*-1-((e=n.value)==null?void 0:e.cars_paid),v.post("/api/AddPayFromBalanceCar",o).then(d=>{H.value=!1,window.location.reload()}).catch(d=>{console.error(d)})}function At(o){v.post("/api/DelPayFromBalanceCar",o).then(e=>{W.value=!1,window.location.reload()}).catch(e=>{console.error(e)})}function Dt(o){U.value=!1,v.post("/api/updateCarsS",o).then(e=>{A.value=!1,f.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),N()}).catch(e=>{f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0}),N()})}function Pt(o){var e,d;o.discountPayment||(o.discountPayment=0),v.get(`/api/addPaymentCar?car_id=${o.id}&discount=${o.discountPayment}&amount=${(e=o.amountPayment)!=null?e:0}&note=${(d=o.notePayment)!=null?d:""}`).then(m=>{F.value=!1,f.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+o.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),N();let y=m.data;window.open(`/api/getIndexAccountsSelas?user_id=${rt.client_id}&print=2&transactions_id=${y.id}`,"_blank")}).catch(m=>{A.value=!1,console.log(m),f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Mt(o,e,d,m){P.value=!0,v.get(`/api/addPaymentCarTotal?amount=${o!=null?o:0}&discount=${d!=null?d:0}&note=${m}&client_id=${e!=null?e:0}`).then(y=>{F.value=!1,f.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+o+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),S.value=!1,P.value=!1,N(),It();let M=y.data;window.open(`/api/getIndexAccountsSelas?user_id=${rt.client_id}&print=2&transactions_id=${M.id}`,"_blank")}).catch(y=>{console.log(y),A.value=!1,P.value=!1,f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function It(){B.value=0,lt.value=0,j.value=""}function St(){S.value=!0,V.value=!1}function Ft(){S.value=!1}function Bt(){V.value=!0,S.value=!1}function Tt(){V.value=!1}function Et(o={}){i.value=o,Q.value=!0}function Qo(){var e,d,m;let o=(m=(d=(e=n==null?void 0:n.value)==null?void 0:e.client)==null?void 0:d.wallet)==null?void 0:m.balance;B.value=o-lt.value}function Ut(o){var e,d,m,y,M,T;v.get(`/api/addCarContracts?car_id=${o.id}&price=${(e=o.prices)!=null?e:0}&price_dinar=${(d=o.price_dinars)!=null?d:0}&paid=${(m=o.paids)!=null?m:0}&paid_dinar=${(y=o.paid_dinars)!=null?y:0}&phone=${(M=o.phone)!=null?M:""}&note=${(T=o.note)!=null?T:""}`).then(O=>{q.value=!1,f.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D ",{timeout:4e3,position:"bottom-right",rtl:!0}),N()}).catch(O=>{q.value=!1,f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Rt(o){var e,d,m;v.get(`/api/editCarContracts?car_id=${o.id}&paid=${(e=o.paids)!=null?e:0}&paid_dinar=${(d=o.paid_dinars)!=null?d:0}&note=${(m=o.notePayment)!=null?m:""}`).then(y=>{z.value=!1,f.success(" \u062A\u0645 \u062F\u0641\u0639 \u0645\u0628\u0644\u063A \u062F\u0648\u0644\u0627\u0631 "+o.amountPayment+" \u0628\u0646\u062C\u0627\u062D ",{timeout:3e3,position:"bottom-right",rtl:!0}),N()}).catch(y=>{z.value=!1,f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function ct(o){v.get(`/api/makeCarExit?car_id=${o.id}&created=${o.createdExit}&phone=${o.phoneExit}&note=${o.noteExit}`).then(e=>{L.value=!1,f.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u062E\u0631\u0648\u062C\u064A\u0629 \u0644\u0644\u0633\u064A\u0627\u0631\u0629 \u0628\u0646\u062C\u0627\u062D ",{timeout:5e3,position:"bottom-right",rtl:!0}),N()}).catch(e=>{L.value=!1,f.error("\u0644\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0628\u0646\u062C\u0627\u062D",{timeout:2e3,position:"bottom-right",rtl:!0})})}function Vt(o){return`/public/uploadsResized/${o}`}function qt(o){return`/public/uploads/${o}`}function zt(o){var Y,Z,tt,et,st;if(!n.value)return;const e=g.value||((Z=(Y=n.value)==null?void 0:Y.client)==null?void 0:Z.id);if(!e||e==="undefined")return;const d=parseFloat(o||((tt=n.value)==null?void 0:tt.cars_sum))||0,m=parseFloat((et=n.value)==null?void 0:et.cars_discount)||0,y=Number(((st=C())==null?void 0:st.totalAmount)||0),T=Math.abs(y)+m-d,O=Math.abs(T),ot=new URLSearchParams({userId:e,currentBalance:O,from:k.value||"",to:w.value||""}).toString();v.get(`/api/checkClientBalance?${ot}`).then(G=>{G.status==201&&(f.success(" \u062A\u0645 \u062A\u0635\u062D\u064A\u062D \u0627\u0644\u0631\u0635\u064A\u062F. \u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u0642\u062F\u064A\u0645: "+G.data,{timeout:5e3,position:"bottom-right",rtl:!0}),g.value?N():X())}).catch(G=>{f.error("\u0644\u0645 \u064A\u062A\u0645 \u0627\u0639\u0627\u062F\u0629 \u0641\u062D\u0635 \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D",{timeout:5e3,position:"bottom-right",rtl:!0})})}return(o,e)=>(u(),c(E,null,[l(a(Ot),{title:"Dashboard"}),l(Qt,null,{header:$(()=>[ie]),default:$(()=>{var d,m,y,M,T,O,ot,Y,Z,tt,et,st,G,ut;return[l(ee,{formData:a(i),show:!!a(q),onA:e[0]||(e[0]=s=>Ut(s)),onClose:e[1]||(e[1]=s=>b(q)?q.value=!1:q=!1)},{header:$(()=>[]),_:1},8,["formData","show"]),l(se,{formData:a(i),show:!!a(z),onA:e[2]||(e[2]=s=>Rt(s)),onClose:e[3]||(e[3]=s=>b(z)?z.value=!1:z=!1)},{header:$(()=>[]),_:1},8,["formData","show"]),l(oe,{formData:a(i),show:!!a(L),onA:e[4]||(e[4]=s=>ct(s)),onClose:e[5]||(e[5]=s=>b(L)?L.value=!1:L=!1)},{header:$(()=>[]),_:1},8,["formData","show"]),l(ae,{formData:a(i),show:!!a(Q),onA:e[6]||(e[6]=s=>ct(s)),onClose:e[7]||(e[7]=s=>b(Q)?Q.value=!1:Q=!1)},{header:$(()=>[]),_:1},8,["formData","show"]),l(Zt,{formData:a(i),show:!!a(U),client:K.clients,onA:e[8]||(e[8]=s=>Dt(s)),onClose:e[9]||(e[9]=s=>b(U)?U.value=!1:U=!1)},{header:$(()=>[]),_:1},8,["formData","show","client"]),l(te,{formData:a(i),show:!!a(F),onA:e[10]||(e[10]=s=>Pt(s)),onClose:e[11]||(e[11]=s=>b(F)?F.value=!1:F=!1)},{header:$(()=>[]),_:1},8,["formData","show"]),l(it,{show:!!a(R),formData:a(i),onA:e[12]||(e[12]=s=>Ct(s)),onClose:e[13]||(e[13]=s=>b(R)?R.value=!1:R=!1)},{header:$(()=>[ce]),_:1},8,["show","formData"]),l(it,{show:!!a(H),formData:a(i),onA:e[14]||(e[14]=s=>Nt(s)),onClose:e[15]||(e[15]=s=>b(H)?H.value=!1:H=!1)},{header:$(()=>[t("h2",ue," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062F\u0641\u0639 "+r(a(i).car_type)+" \u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u061F \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",1)]),_:1},8,["show","formData"]),l(it,{show:!!a(W),formData:a(i),onA:e[16]||(e[16]=s=>At(s)),onClose:e[17]||(e[17]=s=>b(W)?W.value=!1:W=!1)},{header:$(()=>[t("h2",pe," \u0647\u0644 \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0639\u0627\u062F\u0629 \u062F\u0641\u0639\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 "+r(a(i).car_type)+" \u0644\u0644\u0631\u0635\u064A\u062F \u061F ",1)]),_:1},8,["show","formData"]),l(Xt,{show:!!a(A),data:a(A).toString(),onA:e[18]||(e[18]=s=>xt(s,o.arg1)),onClose:e[19]||(e[19]=s=>b(A)?A.value=!1:A=!1)},null,8,["show","data"]),o.$page.props.success?(u(),c("div",me,[t("div",_e,[t("div",he,r(o.$page.props.success),1)])])):_("",!0),o.$page.props.auth.user.type_id==1||o.$page.props.auth.user.type_id==6?(u(),c("div",be,[t("h2",ye,r(o.$t("sales_bill")),1),t("div",fe,[t("div",xe,[t("div",ge,[t("div",ve,[l(h,{class:"mb-1",for:"invoice_number",value:o.$t("Account")},null,8,["value"]),ht(t("select",{onChange:e[20]||(e[20]=s=>N()),"onUpdate:modelValue":e[21]||(e[21]=s=>b(g)?g.value=s:g=s),id:"default",class:"pr-8 border border-gray-300 text-gray-900 mb-6 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:border-gray-400 dark:placeholder-gray-400 dark:text-gray-600 dark:focus:ring-red-500 dark:focus:border-red-500"},[t("option",ke,r(o.$t("selectCustomer")),1),(u(!0),c(E,null,at(K.clients,(s,nt)=>(u(),c(E,{key:nt},[s.wallet.balance>0||s.id==a(g)?(u(),c("option",{key:0,value:s.id},r(s.name),9,we)):_("",!0)],64))),128))],544),[[Gt,a(g)]])]),t("div",null,[t("div",$e,[l(h,{for:"totalAmount",value:"\u0641\u0644\u062A\u0631\u0629 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629"}),t("div",Ce,[t("input",{id:"bordered-checkbox-1",type:"checkbox",onChange:e[22]||(e[22]=s=>a(x)==!0?b(x)?x.value=!1:x=!1:b(x)?x.value=!0:x=!0),value:a(x),checked:!a(x),name:"bordered-checkbox",class:"w-4 h-4 mx-2 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,Ne),t("label",Ae,r(a(x)==!1?" \u062A\u0645 \u0627\u0644\u0641\u0644\u062A\u0631":"\u062A\u0645 \u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0629"),1)])])]),t("div",De,[t("div",Pe,[l(h,{for:"from",value:o.$t("from_date")},null,8,["value"]),l(D,{id:"from",type:"date",class:"mt-1 block w-full",modelValue:a(k),"onUpdate:modelValue":e[23]||(e[23]=s=>b(k)?k.value=s:k=s)},null,8,["modelValue"])])]),t("div",Me,[t("div",Ie,[l(h,{for:"to",value:o.$t("to_date")},null,8,["value"]),l(D,{id:"to",type:"date",class:"mt-1 block w-full",modelValue:a(w),"onUpdate:modelValue":e[24]||(e[24]=s=>b(w)?w.value=s:w=s)},null,8,["modelValue"])])]),t("div",Se,[l(h,{for:"pay",value:"\u0641\u0644\u062A\u0631\u0629"}),t("button",{onClick:e[25]||(e[25]=J(s=>a(X)(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-gray-500 rounded",style:{width:"100%"}},Be)]),t("div",Te,[l(h,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),t("a",{href:`/api/getIndexAccountsSelas?user_id=${a(g)}&from=${a(k)}&to=${a(w)}&print=1&showComplatedCars=${a(x)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-orange-500 rounded block text-center",style:{width:"100%"}},Re,8,Ee)]),t("div",Ve,[l(h,{for:"pay",value:"\u0637\u0628\u0627\u0639\u0629"}),t("a",{href:`/api/getIndexAccountsSelas?user_id=${a(g)}&from=${a(k)}&to=${a(w)}&print=1&printExcel=1&showComplatedCars=${a(x)?0:1}`,target:"_blank",class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded block text-center",style:{width:"100%"}},Le,8,qe)]),t("div",je,[l(h,{for:"car_total",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),l(D,{id:"car_total",type:"text",class:"mt-1 block w-full",value:a(n).car_total,disabled:""},null,8,["value"])]),t("div",He,[l(h,{for:"cars_sum",value:o.$t("Total_in_dollars")},null,8,["value"]),l(D,{id:"cars_sum",type:"text",class:"mt-1 block w-full",value:(d=a(n))==null?void 0:d.cars_sum,disabled:""},null,8,["value"])]),t("div",We,[l(h,{for:"cars_paid",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(D,{id:"cars_paid",type:"number",class:"mt-1 block w-full",value:parseFloat((m=a(n))==null?void 0:m.cars_sum)-(parseFloat((T=(M=(y=a(n))==null?void 0:y.client)==null?void 0:M.wallet)==null?void 0:T.balance)+parseFloat((O=a(n))==null?void 0:O.cars_discount)),disabled:""},null,8,["value"])]),t("div",Oe,[l(h,{for:"cars_discount",value:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(D,{id:"cars_discount",type:"text",class:"mt-1 block w-full",value:(ot=a(n))==null?void 0:ot.cars_discount,disabled:""},null,8,["value"])]),t("div",Ge,[l(h,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),t("input",{id:"cars_need_paid",type:"number",class:"border-gray-300 focus:border-indigo-300 dark:bg-gray-800 dark:text-gray-200 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm mt-1 block w-full",value:(Y=a(n))!=null&&Y.transactions?C().totalAmount*-1-(((Z=a(n))==null?void 0:Z.cars_sum)||0):0,readonly:""},null,8,Je)]),t("div",Ke,[l(h,{for:"pay",value:"\u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639\u0629"}),a(S)?_("",!0):(u(),c("button",{key:0,onClick:e[26]||(e[26]=J(s=>St(),["prevent"])),disabled:a(P),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},Ye,8,Qe)),a(S)?(u(),c("button",{key:1,onClick:e[27]||(e[27]=J(s=>Ft(),["prevent"])),disabled:a(P),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},es,8,Ze)):_("",!0)]),t("div",ss,[l(h,{for:"pay",value:"\u0639\u0631\u0636 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"}),a(V)?_("",!0):(u(),c("button",{key:0,onClick:e[28]||(e[28]=J(s=>Bt(),["prevent"])),disabled:a(P),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-purple-500 rounded",style:{width:"100%"}},rs,8,os)),a(V)?(u(),c("button",{key:1,onClick:e[29]||(e[29]=J(s=>Tt(),["prevent"])),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-pink-500 rounded",style:{width:"100%"}},ns)):_("",!0)]),C().totalAmount*-1-((tt=a(n))==null?void 0:tt.cars_paid)!=0?(u(),c("div",ds,[l(h,{for:"cars_need_paid",value:"\u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0645\u0648\u0632\u0639 \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631"}),l(D,{id:"cars_need_paid",type:"number",class:"mt-1 block w-full",value:C().totalAmount*-1-((et=a(n))==null?void 0:et.cars_paid)},null,8,["value"])])):_("",!0)]),a(S)?(u(),c("div",is,[_("",!0),t("div",cs,[l(h,{for:"percentage",value:" \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0627\u0644\u062F\u0648\u0644\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u062F\u0641\u0639\u0647"}),l(D,{id:"percentage",type:"number",class:"mt-1 block w-full",modelValue:a(B),"onUpdate:modelValue":e[31]||(e[31]=s=>b(B)?B.value=s:B=s)},null,8,["modelValue"])]),t("div",us,[l(h,{for:"discount",value:"\u0645\u0644\u0627\u062D\u0638\u0629"}),l(D,{id:"discount",type:"text",class:"mt-1 block w-full",modelValue:a(j),"onUpdate:modelValue":e[32]||(e[32]=s=>b(j)?j.value=s:j=s)},null,8,["modelValue"])]),t("div",ps,[l(h,{for:"pay",value:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),t("button",{onClick:e[33]||(e[33]=J(s=>Mt(a(B),a(g),a(lt),a(j)),["prevent"])),disabled:a(P),class:"px-6 mb-12 py-2 mt-1 font-bold text-white bg-green-500 rounded",style:{width:"100%"}},[a(yt)?(u(),c("span",_s,"\u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0628\u0644\u063A \u0644")):_("",!0),a(P)?(u(),c("span",bs,"\u062C\u0627\u0631\u064A \u0627\u0644\u0637\u0628\u0627\u0639\u0629...")):(u(),c("span",hs,"\u062F\u0641\u0639"))],8,ms)])])):_("",!0),a(V)?(u(),c("div",ys,[t("table",fs,[t("thead",xs,[t("tr",gs,[vs,t("th",ks,r(o.$t("date")),1),t("th",ws,r(o.$t("description")),1),t("th",$s,r(o.$t("amount")),1),t("th",Cs,r(o.$t("execute")),1)])]),t("tbody",null,[t("tr",Ns,[As,Ds,Ps,Ms,t("td",Is,[t("a",{target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a(n).client.id}&from=${a(k)}&to=${a(w)}&print=4`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-blue-500 rounded"},[dt(" \u062C\u0645\u064A\u0639 \u0627\u0644\u062F\u0641\u0639\u0627\u062A "),l(bt)],8,Ss)])]),(u(!0),c(E,null,at(a(n).transactions,s=>(u(),c(E,{key:s.id},[s.type=="out"&&s.amount<0&&s.is_pay==1?(u(),c("tr",Fs,[t("td",Bs,r(s.id),1),t("td",Ts,r(s.created),1),t("td",Es,r(s.description),1),t("td",Us,r(s.amount*-1),1),t("td",Rs,[s.type=="out"&&s.amount<0?(u(),c("a",{key:0,target:"_blank",style:{display:"inline-flex"},href:`/api/getIndexAccountsSelas?user_id=${a(n).client.id}&from=${a(k)}&to=${a(w)}&print=2&transactions_id=${s.id}`,tabIndex:"1",class:"px-4 py-1 text-white m-1 bg-green-500 rounded"},[l(bt)],8,Vs)):_("",!0)])])):_("",!0)],64))),128)),t("tr",qs,[zs,t("td",null,r((st=a(n))==null?void 0:st.cars_discount),1),Ls,t("td",js,r(C().totalAmount*-1),1),t("td",null,"\u0627\u0644\u0646\u062A\u0627\u062A\u062C : "+r(C().totalAmount*-1-parseInt((G=a(n))==null?void 0:G.cars_discount)),1)])])])])):_("",!0),t("div",null,[t("div",Hs,[t("table",Ws,[t("thead",Os,[t("tr",Gs,[t("th",Js,r(o.$t("no")),1),t("th",Ks,r(o.$t("car_type")),1),t("th",Qs,r(o.$t("year")),1),t("th",Xs,r(o.$t("color")),1),t("th",Ys,r(o.$t("vin")),1),t("th",Zs,r(o.$t("car_number"))+" copart ",1),t("th",to,r(o.$t("note")),1),eo,so,oo,ao,ro,lo,t("th",no,r(o.$t("total")),1),t("th",io,r(o.$t("paid")),1),co,t("th",uo,r(o.$t("date")),1),t("th",po,r(o.$t("execute")),1),mo,_o])]),t("tbody",null,[(u(!0),c(E,null,at(a(n).data,(s,nt)=>{var pt,mt,_t;return ht((u(),c("tr",{key:s.id,class:Kt([{"bg-red-100 dark:bg-red-900":s.results==0,"bg-red-100 dark:bg-red-900":s.results==1,"bg-green-100 dark:bg-green-900":s.results==2,"bg-yellow-100 dark:bg-yellow-900":s.vin.startsWith(K.q)||(s.car_number?s.car_number.toString().startsWith(K.q):"")},"border-b dark:bg-gray-900 dark:border-gray-900 hover:bg-gray-50 dark:hover:bg-gray-600"])},[t("td",ho,r(nt+1),1),t("td",bo,r(s.car_type),1),t("td",yo,r(s.year),1),t("td",fo,r(s.car_color),1),t("td",xo,r(s.vin),1),t("td",go,r(s.car_number),1),t("td",vo,r(s.note),1),t("td",ko,r(s.shipping_dolar_s),1),t("td",wo,r(s.dinar_s),1),t("td",$o,r(s.coc_dolar_s),1),t("td",Co,r(s.checkout_s),1),t("td",No,r(s.expenses_s),1),t("td",Ao,r((pt=s.commission_s)!=null?pt:0),1),t("td",Do,r(s.total_s.toFixed(0)),1),t("td",Po,r(s.paid),1),t("td",Mo,r(s.total_s.toFixed(0)-s.paid),1),t("td",Io,r(s.date),1),t("td",So,[t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-slate-500 rounded",onClick:I=>wt(s)},[l(ne)],8,Fo),t("button",{tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-orange-500 rounded",onClick:I=>gt(s)},[l(le)],8,Bo),s.total_s!=s.paid+s.discount?(u(),c("button",{key:0,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:I=>$t(s)},[l(re)],8,To)):_("",!0),s.is_exit?(u(),c("button",{key:1,tabIndex:"1",class:"px-1 py-1 text-white mx-1 bg-blue-500 rounded",onClick:I=>Et(s)},[l(de)],8,Eo)):_("",!0)]),t("td",Uo,[(u(!0),c(E,null,at(s.car_images,(I,Lt)=>(u(),c("a",{key:Lt,href:qt(I.name),style:{cursor:"pointer"},target:"_blank"},[t("img",{src:Vt(I.name),alt:"",class:"px-1",style:{"max-width":"80px","max-height":"50px",display:"inline"}},null,8,Vo)],8,Ro))),128))]),t("td",qo,[C().totalAmount*-1-((mt=a(n))==null?void 0:mt.cars_paid)!=0?(u(),c("button",{key:0,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 text-white mx-1 bg-green-500 rounded",onClick:I=>vt(s)}," \u062F\u0641\u0639 \u0645\u0646 \u0627\u0644\u0631\u0635\u064A\u062F ",8,zo)):_("",!0),C().totalAmount*-1-((_t=a(n))==null?void 0:_t.cars_sum)!=0&&s.paid?(u(),c("button",{key:1,tabIndex:"1",style:{"min-width":"100px"},class:"px-1 py-1 mt-1 text-white mx-1 bg-red-500 rounded",onClick:I=>kt(s)}," \u0627\u0639\u0627\u062F\u0629 \u0644\u0644\u0631\u0635\u064A\u062F ",8,Lo)):_("",!0)])],2)),[[Jt,s.results==2&&a(x)||s.results!=2]])}),128))])])])]),t("div",jo,[l(a(Yt),{data:a(n),onPaginationChangePage:a(X),limit:2},null,8,["data","onPaginationChangePage"])])])])])):_("",!0),t("div",Ho,[t("div",Wo,[t("div",Oo,[dt(" \u062A\u0648\u0642\u064A\u0639 \u0635\u0627\u062D\u0628 \u0627\u0644\u062D\u0633\u0627\u0628 "),Go,dt(" "+r((ut=a(n).client)==null?void 0:ut.name),1)]),Jo,Ko])])]}),_:1})],64))}};export{fa as default};
